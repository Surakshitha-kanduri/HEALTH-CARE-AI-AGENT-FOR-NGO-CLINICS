<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Triage | AI Health Desk</title>
<link rel="stylesheet" href="style.css">
</head>
<body style="background: url('https://png.pngtree.com/thumb_back/fh260/background/20250227/pngtree-ai-powered-healthcare-precision-diagnostic-tools-3d-interface-image_16973202.jpg') no-repeat center center fixed; background-size: cover; color:#000; font-weight:bold;">

<header>
  <h2 class="logo">AI Health Desk</h2>
  <nav>
    <a href="index.html">Home</a>
    <a href="features.html">Features</a>
    <a href="register.html">Register</a>
    <a href="triage.html" class="active">Triage</a>
    <a href="dashboard.html">Dashboard</a>
    <a href="hospital.html">Hospitals</a>
    <a href="about.html">About</a>
  </nav>
</header>

<section>
  <h2>Automated Triage</h2>
  <form id="triageForm">
    <label>Primary Symptom</label>
    <select id="symptom">
      <option>Fever</option>
      <option>Cough / Breathlessness</option>
      <option>Injury / Trauma</option>
      <option>Pregnancy Concern</option>
      <option>Tumor</option>
      <option>Cancer</option>
      <option>Joint Pains</option> 
      <option>Bone Dislocation</option>
      <option>Open Heart Surgery</option>
    </select>

    <label>Description of Patient Queries</label>
    <input type="text" id="description" placeholder="Brief description" required>

    <label>Severity (1-10)</label>
    <input type="number" id="severity" min="1" max="10" value="3">

    <label>Any Red-Flag Symptoms?</label>
    <select id="redflag">
      <option value="0">No</option>
      <option value="1">Yes</option>
    </select>

    <button type="submit" class="btn">Run Triage</button>
    <div id="result"></div>
  </form>
</section>

<footer><p>© 2025 AI Health Desk | Govt–NGO Clinic Initiative</p></footer>

<script>
const triForm = document.getElementById("triageForm");

triForm.addEventListener("submit", async (e) => {
  e.preventDefault();

  const data = {
    symptom: document.getElementById("symptom").value,
    description: document.getElementById("description").value,
    severity: document.getElementById("severity").value,
    redflag: document.getElementById("redflag").value
  };

  try {
    const res = await fetch("http://localhost:5000/triage", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(data)
    });
    const result = await res.json();
    alert(result.result); // Shows "Triage complete..."
    triForm.reset(); // Clear form
  } catch (err) {
    alert("Error connecting to backend.");
    console.error(err);
  }
});
</script>
</body>
</html>
